---
// Integrations
import { Image } from "@astrojs/image/components";

// Props
const { project } = Astro.props;

const { title, author, thumbnail, description } = project.frontmatter;

const urlProject = project.url;
---

<article>
  <div class="project-card--container">
    <a class="project-card--wrapper" href={urlProject}>
      <div class="project-card--image-wrapper">
        <Image
          src={thumbnail.src}
          alt={thumbnail.alt}
          width={500}
          height={400}
          format="avif"
          class="project-card--image"
        />
      </div>
      <div class="project-card--data-wrapper">
        <h3 class="project-card--title">{title}</h3>
        <p class="project-card--author">{author}</p>
        <span class="project-card--line"></span>
        <p class="project-card--description">
          {
            description.length > 100
              ? description.slice(0, 110) + "..."
              : description
          }
        </p>
        <p class="project-card--cta">+ Más información</p>
      </div>
    </a>
  </div>
</article>

<style>
  @media screen and (max-width: 284px) {
    .project-card--image {
      width: 100%;
      height: 100%;
    }
  }

  .project-card--container {
    margin: 0 auto;
    max-width: 85%;
    border: 1px solid var(--bkg-inverse);
    border-radius: 0.5rem;
    padding: 1rem;
  }

  .project-card--container:hover {
    border: 1px solid var(--blue);
  }

  .project-card--wrapper {
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .project-card--data-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .project-card--line {
    height: 1px;
    background-color: var(--bkg-inverse);
  }

  .project-card--cta {
    color: var(--blue);
    font-weight: 700;
    padding: 0.5rem 0rem;
  }

  @media screen and (min-width: 285px) and (max-width: 767px) {
    .project-card--image {
      width: 100%;
      height: 100%;
    }

    .project-card--container {
      width: 85%;
    }
  }

  @media screen and (min-width: 768px) and (max-width: 1024px) {
    .project-card--container {
      width: 85%;
      max-width: 50rem;
    }

    .project-card--image {
      height: 100%;
    }

    .project-card--wrapper {
      flex-direction: row;
      align-items: center;
      gap: 2rem;
      padding: 0.25rem;
    }

    .project-card--data-wrapper {
      max-width: 45%;
    }
  }

  @media screen and (min-width: 1025px) {
    .project-card--container {
      width: 85%;
      max-width: 60rem;
    }

    .project-card--image {
      height: 100%;
    }

    .project-card--wrapper {
      flex-direction: row;
      align-items: center;
      gap: 2rem;
      padding: 0.25rem;
    }

    .project-card--data-wrapper {
      max-width: 30rem;
    }
  }
</style>
